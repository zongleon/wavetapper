(function(){const N=document.createElement("link").relList;if(N&&N.supports&&N.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))C(h);new MutationObserver(h=>{for(const a of h)if(a.type==="childList")for(const I of a.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&C(I)}).observe(document,{childList:!0,subtree:!0});function p(h){const a={};return h.integrity&&(a.integrity=h.integrity),h.referrerPolicy&&(a.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?a.credentials="include":h.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function C(h){if(h.ep)return;h.ep=!0;const a=p(h);fetch(h.href,a)}})();var H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}var U={exports:{}},et=U.exports,me;function tt(){return me||(me=1,function(S,N){(function(p,C){S.exports=C()})(et,function(){function p(n,e,t){return e=d(e),function(r,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(r)}(n,C()?Reflect.construct(e,t||[],d(n).constructor):e.apply(n,t))}function C(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!n})()}function h(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h(Object(t),!0).forEach(function(r){be(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function I(n){var e=function(t,r){if(typeof t!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var s=o.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n,"string");return typeof e=="symbol"?e:e+""}function c(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ke(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,I(r.key),r)}}function f(n,e,t){return e&&ke(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function be(n,e,t){return(e=I(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&R(n,e)}function d(n){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(n)}function R(n,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},R(n,e)}function Ee(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=d(n))!==null;);return n}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var r=Ee(n,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?n:t):o.value}},v.apply(this,arguments)}function y(n){return Number(n)===n&&n%1==0}function Y(n){return Number(n)===n}function w(n){return typeof n=="string"}function ee(n){return typeof n=="boolean"}function te(n){return n===1/0}function B(n){return Object.prototype.toString.call(n)==="[object Array]"}function z(n){return Object.prototype.toString.call(n)==="[object Object]"}function j(n){return typeof n=="function"}function ne(n){return n instanceof Uint8Array}function Se(n){return n instanceof Date}function A(n){return n===void 0}function re(n){return n===null}function F(n){return n+3&-4}function oe(n){return Object.prototype.hasOwnProperty.call(typeof H<"u"?H:window,n)}function Oe(n){return n.buffer?new DataView(n.buffer):n instanceof ArrayBuffer?new DataView(n):new DataView(new Uint8Array(n))}function se(n){if(y(n))return"i";if(e=n,Number(e)===e&&e%1!=0)return"f";if(w(n))return"s";if(ne(n))return"b";if(ee(n))return n?"T":"F";if(re(n))return"N";if(te(n))return"I";var e;throw new Error("OSC typeTag() found unknown value type")}function x(n){var e="";if(B(n))return"/".concat(n.join("/"));if(w(n))return(e=n).length>1&&e[e.length-1]==="/"&&(e=e.slice(0,e.length-1)),e.length>1&&e[0]!=="/"&&(e="/".concat(e)),e;throw new Error("OSC prepareAddress() needs addresses of type array or string")}function ie(n){if(!w(n))throw new Error("OSC prepareRegExPattern() needs strings");return n.replace(/\./g,"\\.").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\{/g,"(").replace(/\}/g,")").replace(/,/g,"|").replace(/\[!/g,"[^").replace(/\?/g,".").replace(/\*/g,".*")}var ae=f(function n(){c(this,n),this.data=[],this.byteLength=0},[{key:"add",value:function(n){if(ee(n)||te(n)||re(n))return this;var e=n.pack();return this.byteLength+=e.byteLength,this.data.push(e),this}},{key:"merge",value:function(){var n=new Uint8Array(this.byteLength),e=0;return this.data.forEach(function(t){n.set(t,e),e+=t.byteLength}),n}}]),O=f(function n(e){c(this,n),this.value=e,this.offset=0},[{key:"pack",value:function(n,e){if(!n||!e)throw new Error("OSC Atomic cant't be packed without given method or byteLength");var t=new Uint8Array(e),r=new DataView(t.buffer);if(A(this.value))throw new Error("OSC Atomic cant't be encoded with empty value");return r[n](this.offset,this.value,!1),t}},{key:"unpackWithMethod",value:function(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!(n&&e&&t))throw new Error("OSC Atomic cant't be unpacked without given dataView, method or byteLength");if(!(n instanceof DataView))throw new Error("OSC Atomic expects an instance of type DataView");return this.value=n[e](r,!1),this.offset=r+t,this.offset}}]),V=function(n){function e(t){if(c(this,e),t&&!y(t))throw new Error("OSC AtomicInt32 constructor expects value of type number");return p(this,e,[t])}return g(e,n),f(e,[{key:"pack",value:function(){return v(d(e.prototype),"pack",this).call(this,"setInt32",4)}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return v(d(e.prototype),"unpackWithMethod",this).call(this,t,"getInt32",4,r)}}])}(O),ue="utf-8";function Ce(n){if(oe("Buffer"))return Buffer.from(n).toString(ue);if(oe("TextDecoder"))return new TextDecoder(ue).decode(new Int8Array(n));for(var e="",t=0;t<n.length;t+=65537)e+=String.fromCharCode.apply(null,n.slice(t,t+65537));return e}var k=function(n){function e(t){if(c(this,e),t&&!w(t))throw new Error("OSC AtomicString constructor expects value of type string");return p(this,e,[t])}return g(e,n),f(e,[{key:"pack",value:function(){if(A(this.value))throw new Error("OSC AtomicString can not be encoded with empty value");for(var t="".concat(this.value,"\0"),r=F(t.length),o=new Uint8Array(r),s=0;s<t.length;s+=1)o[s]=t.charCodeAt(s);return o}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(t instanceof DataView))throw new Error("OSC AtomicString expects an instance of type DataView");for(var o,s=r,i=[];s<t.byteLength;s+=1){if((o=t.getUint8(s))===0){s+=1;break}i.push(o)}if(s===t.length)throw new Error("OSC AtomicString found a malformed OSC string");return this.offset=F(s),this.value=Ce(i),this.offset}}])}(O),ce=2208988800,fe=4294967296,G=f(function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(c(this,n),!y(e)||!y(t))throw new Error("OSC Timetag constructor expects values of type integer number");this.seconds=e,this.fractions=t},[{key:"timestamp",value:function(n){var e;if(typeof n=="number"){e=n/1e3;var t=Math.floor(e);return this.seconds=t+ce,this.fractions=Math.round(fe*(e-t)),n}return 1e3*((e=this.seconds-ce)+Math.round(this.fractions/fe))}}]),M=function(n){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();c(this,e);var r=new G;return t instanceof G?r=t:y(t)?r.timestamp(t):Se(t)&&r.timestamp(t.getTime()),p(this,e,[r])}return g(e,n),f(e,[{key:"pack",value:function(){if(A(this.value))throw new Error("OSC AtomicTimetag can not be encoded with empty value");var t=this.value,r=t.seconds,o=t.fractions,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setInt32(0,r,!1),i.setInt32(4,o,!1),s}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(t instanceof DataView))throw new Error("OSC AtomicTimetag expects an instance of type DataView");var o=t.getUint32(r,!1),s=t.getUint32(r+4,!1);return this.value=new G(o,s),this.offset=r+8,this.offset}}])}(O),le=function(n){function e(t){if(c(this,e),t&&!ne(t))throw new Error("OSC AtomicBlob constructor expects value of type Uint8Array");return p(this,e,[t])}return g(e,n),f(e,[{key:"pack",value:function(){if(A(this.value))throw new Error("OSC AtomicBlob can not be encoded with empty value");var t=F(this.value.byteLength),r=new Uint8Array(t+4);return new DataView(r.buffer).setInt32(0,this.value.byteLength,!1),r.set(this.value,4),r}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(t instanceof DataView))throw new Error("OSC AtomicBlob expects an instance of type DataView");var o=t.getInt32(r,!1);return this.value=new Uint8Array(t.buffer,r+4,o),this.offset=F(r+4+o),this.offset}}])}(O),he=function(n){function e(t){if(c(this,e),t&&!Y(t))throw new Error("OSC AtomicFloat32 constructor expects value of type float");return p(this,e,[t])}return g(e,n),f(e,[{key:"pack",value:function(){return v(d(e.prototype),"pack",this).call(this,"setFloat32",4)}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return v(d(e.prototype),"unpackWithMethod",this).call(this,t,"getFloat32",4,r)}}])}(O),pe=function(n){function e(t){if(c(this,e),t&&!Y(t))throw new Error("OSC AtomicFloat64 constructor expects value of type float");return p(this,e,[t])}return g(e,n),f(e,[{key:"pack",value:function(){return v(d(e.prototype),"pack",this).call(this,"setFloat64",8)}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return v(d(e.prototype),"unpackWithMethod",this).call(this,t,"getFloat64",8,r)}}])}(O),Ae=BigInt("9223372036854775807"),Pe=BigInt("-9223372036854775808"),de=function(n){function e(t){if(c(this,e),t&&typeof t!="bigint")throw new Error("OSC AtomicInt64 constructor expects value of type BigInt");if(t&&(t<Pe||t>Ae))throw new Error("OSC AtomicInt64 value is out of bounds");var r;return t&&(r=BigInt.asIntN(64,t)),p(this,e,[r])}return g(e,n),f(e,[{key:"pack",value:function(){return v(d(e.prototype),"pack",this).call(this,"setBigInt64",8)}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return v(d(e.prototype),"unpackWithMethod",this).call(this,t,"getBigInt64",8,r)}}])}(O),De=BigInt("18446744073709551615"),ge=function(n){function e(t){if(c(this,e),t&&typeof t!="bigint")throw new Error("OSC AtomicUInt64 constructor expects value of type BigInt");if(t&&(t<0||t>De))throw new Error("OSC AtomicUInt64 value is out of bounds");var r;return t&&(r=BigInt.asUintN(64,t)),p(this,e,[r])}return g(e,n),f(e,[{key:"pack",value:function(){return v(d(e.prototype),"pack",this).call(this,"setBigUint64",8)}},{key:"unpack",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return v(d(e.prototype),"unpackWithMethod",this).call(this,t,"getBigUint64",8,r)}}])}(O),q=!0,K=!1,Z=null,$=1/0,J=f(function n(e,t){var r=this;if(c(this,n),this.offset=0,this.address="",this.types="",this.args=[],!A(e)){if(!w(e)&&!B(e))throw new Error("OSC Message constructor first argument (address) must be a string or array");this.address=x(e)}if(!A(t)){if(!B(t))throw new Error("OSC Message constructor second argument (args) must be an array");t.forEach(function(o){return r.add(o.type,o.value)})}},[{key:"add",value:function(n,e){if(A(n))throw new Error("OSC Message needs a valid OSC Atomic Data Type");n==="N"?this.args.push(Z):n==="T"?this.args.push(q):n==="F"?this.args.push(K):n==="I"?this.args.push($):this.args.push(e),this.types+=n}},{key:"pack",value:function(){var n=this;if(this.address.length===0||this.address[0]!=="/")throw new Error("OSC Message has an invalid address");var e=new ae;if(e.add(new k(this.address)),e.add(new k(",".concat(this.types))),this.args.length>0){var t;if(this.args.length>this.types.length)throw new Error("OSC Message argument and type tag mismatch");this.args.forEach(function(r,o){var s=n.types[o];if(s==="i")t=new V(r);else if(s==="h")t=new de(r);else if(s==="t")t=new ge(r);else if(s==="f")t=new he(r);else if(s==="d")t=new pe(r);else if(s==="s")t=new k(r);else if(s==="b")t=new le(r);else if(s==="T")t=q;else if(s==="F")t=K;else if(s==="N")t=Z;else{if(s!=="I")throw new Error("OSC Message found unknown argument type");t=$}e.add(t)})}return e.merge()}},{key:"unpack",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(n instanceof DataView))throw new Error("OSC Message expects an instance of type DataView.");var t=new k;t.unpack(n,e);var r=new k;if(r.unpack(n,t.offset),t.value.length===0||t.value[0]!=="/")throw new Error("OSC Message found malformed or missing address string");if(r.value.length===0&&r.value[0]!==",")throw new Error("OSC Message found malformed or missing type string");for(var o,s,i=r.offset,u=[],l=1;l<r.value.length;l+=1){if(o=null,(s=r.value[l])==="i")o=new V;else if(s==="h")o=new de;else if(s==="t")o=new ge;else if(s==="f")o=new he;else if(s==="d")o=new pe;else if(s==="s")o=new k;else if(s==="b")o=new le;else if(s==="T")u.push(q);else if(s==="F")u.push(K);else if(s==="N")u.push(Z);else{if(s!=="I")throw new Error("OSC Message found unsupported argument type");u.push($)}o&&(i=o.unpack(n,i),u.push(o.value))}return this.offset=i,this.address=t.value,this.types=r.value,this.args=u,this.offset}}]),b=function(n){function e(t){var r,o;c(this,e);for(var s=arguments.length,i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];return i.length>0&&i[0]instanceof Array&&(o=i.shift()),r=p(this,e,[t,o]),i.length>0&&(r.types=i.map(function(l){return se(l)}).join(""),r.args=i),r}return g(e,n),f(e,[{key:"add",value:function(t){v(d(e.prototype),"add",this).call(this,se(t),t)}}])}(J),_="#bundle",P=function(){function n(){var e=this;c(this,n),this.offset=0,this.timetag=new M,this.bundleElements=[];for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.length>0&&(r[0]instanceof Date||y(r[0])?this.timetag=new M(r[0]):B(r[0])?(r[0].forEach(function(s){e.add(s)}),r.length>1&&(r[1]instanceof Date||y(r[1]))&&(this.timetag=new M(r[1]))):r.forEach(function(s){e.add(s)}))}return f(n,[{key:"timestamp",value:function(e){if(!y(e))throw new Error("OSC Bundle needs an integer for setting the timestamp");this.timetag=new M(e)}},{key:"add",value:function(e){if(!(e instanceof b||e instanceof n))throw new Error("OSC Bundle contains only Messages and Bundles");this.bundleElements.push(e)}},{key:"pack",value:function(){var e=new ae;return e.add(new k(_)),this.timetag||(this.timetag=new M),e.add(this.timetag),this.bundleElements.forEach(function(t){e.add(new V(t.pack().byteLength)),e.add(t)}),e.merge()}},{key:"unpack",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(e instanceof DataView))throw new Error("OSC Bundle expects an instance of type DataView");var r=new k;if(r.unpack(e,t),r.value!==_)throw new Error("OSC Bundle does not contain a valid #bundle head");var o=new M,s=o.unpack(e,r.offset);for(this.bundleElements=[];s<e.byteLength;){var i=new k,u=new V;s=u.unpack(e,s);var l=void 0;i.unpack(e,s),s=(l=i.value===_?new n:new b).unpack(e,s),this.bundleElements.push(l)}return this.offset=s,this.timetag=o,this.offset}}])}(),D=f(function n(e){if(c(this,n),e&&!(e instanceof b||e instanceof P))throw new Error("OSC Packet value has to be Message or Bundle");this.value=e,this.offset=0},[{key:"pack",value:function(){if(!this.value)throw new Error("OSC Packet can not be encoded with empty body");return this.value.pack()}},{key:"unpack",value:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!(n instanceof DataView))throw new Error("OSC Packet expects an instance of type DataView");if(n.byteLength%4!=0)throw new Error("OSC Packet byteLength has to be a multiple of four");var t,r=new k;return r.unpack(n,e),(t=r.value===_?new P:new b).unpack(n,e),this.offset=t.offset,this.value=t,this.offset}}]),Ie={discardLateMessages:!1},Be=f(function n(e){c(this,n),this.options=a(a({},Ie),e),this.addressHandlers=[],this.eventHandlers={open:[],error:[],close:[]},this.uuid=0},[{key:"dispatch",value:function(n,e){var t=this;if(!(n instanceof D))throw new Error("OSC EventHander dispatch() accepts only arguments of type Packet");if(!n.value)throw new Error("OSC EventHander dispatch() can't read empty Packets");if(n.value instanceof P){var r=n.value;return r.bundleElements.forEach(function(s){if(s instanceof P){if(r.timetag.value.timestamp()<s.timetag.value.timestamp())throw new Error("OSC Bundle timestamp is older than the timestamp of enclosed Bundles");return t.dispatch(new D(s))}if(s instanceof b){var i=s;return t.notify(i.address,i,r.timetag.value.timestamp(),e)}throw new Error("OSC EventHander dispatch() can't dispatch unknown Packet value")})}if(n.value instanceof b){var o=n.value;return this.notify(o.address,o,0,e)}throw new Error("OSC EventHander dispatch() can't dispatch unknown Packet value")}},{key:"call",value:function(n,e,t){var r=!1;if(w(n)&&n in this.eventHandlers)return this.eventHandlers[n].forEach(function(i){i.callback(e,t),r=!0}),r;var o=Object.keys(this.addressHandlers),s=this.addressHandlers;return o.forEach(function(i){var u=!1,l=new RegExp(ie(x(n)),"g");if(l.test(i)&&i.length===l.lastIndex&&(u=!0),!u){var E=new RegExp(ie(x(i)),"g");E.test(n)&&n.length===E.lastIndex&&(u=!0)}u&&s[i].forEach(function(L){L.callback(e,t),r=!0})}),r}},{key:"notify",value:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length===0)throw new Error("OSC EventHandler can not be called without any argument");try{if(e[0]instanceof D)return this.dispatch(e[0],e[1]);if(e[0]instanceof P||e[0]instanceof b)return this.dispatch(new D(e[0]),e[1]);if(!w(e[0])){var r=new D;return r.unpack(Oe(e[0])),this.dispatch(r,e[1])}var o=e[0],s=null;e.length>1&&(s=e[1]);var i=null;if(e.length>2)if(y(e[2]))i=e[2];else{if(!(e[2]instanceof Date))throw new Error("OSC EventHandler timestamp has to be a number or Date");i=e[2].getTime()}var u=null;if(e.length>=3&&(u=e[3]),i){var l=Date.now();if(l>i&&!this.options.discardLateMessages)return this.call(o,s,u);var E=this;return setTimeout(function(){E.call(o,s,u)},i-l),!0}return this.call(o,s,u)}catch(L){return this.notify("error",L),!1}}},{key:"on",value:function(n,e){if(!w(n)&&!B(n))throw new Error("OSC EventHandler accepts only strings or arrays for address patterns");if(!j(e))throw new Error("OSC EventHandler callback has to be a function");this.uuid+=1;var t={id:this.uuid,callback:e};if(w(n)&&n in this.eventHandlers)return this.eventHandlers[n].push(t),this.uuid;var r=x(n);return r in this.addressHandlers||(this.addressHandlers[r]=[]),this.addressHandlers[r].push(t),this.uuid}},{key:"off",value:function(n,e){if(!w(n)&&!B(n))throw new Error("OSC EventHandler accepts only strings or arrays for address patterns");if(!y(e))throw new Error("OSC EventHandler subscription id has to be a number");var t,r;return w(n)&&n in this.eventHandlers?(t=n,r=this.eventHandlers):(t=x(n),r=this.addressHandlers),t in r&&r[t].some(function(o,s){return o.id===e&&(r[t].splice(s,1),!0)})}}]),T=f(function n(){if(c(this,n),this.constructor===n)throw new Error("Plugin is an abstract class. Please create or use an implementation!")},[{key:"status",value:function(){throw new Error("Abstract method!")}},{key:"open",value:function(){throw new Error("Abstract method!")}},{key:"close",value:function(){throw new Error("Abstract method!")}},{key:"send",value:function(n){throw new Error("Abstract method!")}}]),je=0,Me=1,xe=2,Te=3,Le=function(n){function e(){throw c(this,e),p(this,e),new Error("DatagramPlugin can not be used in browser context")}return g(e,n),f(e,[{key:"registerNotify",value:function(t){this.notify=t}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=a(a({},this.options.open),r),s=o.port,i=o.exclusive;this.socketStatus=je,this.socket.bind({address:o.host,port:s,exclusive:i},function(){t.socketStatus=Me,t.notify("open")})}},{key:"close",value:function(){var t=this;this.socketStatus=xe,this.socket.close(function(){t.socketStatus=Te,t.notify("close")})}},{key:"send",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a(a({},this.options.send),r),s=o.port,i=o.host;this.socket.send(Buffer.from(t),0,t.byteLength,s,i)}}])}(T),ve=typeof WebSocket<"u"?WebSocket:typeof MozWebSocket<"u"?MozWebSocket:typeof H<"u"?H.WebSocket||H.MozWebSocket:typeof window<"u"?window.WebSocket||window.MozWebSocket:typeof self<"u"?self.WebSocket||self.MozWebSocket:void 0,Q=void 0,He=0,Ne=1,Fe=2,Ve=3,W={udpServer:{host:"localhost",port:41234,exclusive:!1},udpClient:{host:"localhost",port:41235},wsServer:{host:"localhost",port:8080},receiver:"ws"};function we(n,e){return a(a(a(a({},W),n),e),{},{udpServer:a(a(a({},W.udpServer),n.udpServer),e.udpServer),udpClient:a(a(a({},W.udpClient),n.udpClient),e.udpClient),wsServer:a(a(a({},W.wsServer),n.wsServer),e.wsServer)})}var _e=function(n){function e(){throw c(this,e),p(this,e),new Error("BridgePlugin can not be used in browser context")}return g(e,n),f(e,[{key:"registerNotify",value:function(t){this.notify=t}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=we(this.options,r);this.socketStatus=He,this.socket.bind({address:o.udpServer.host,port:o.udpServer.port,exclusive:o.udpServer.exclusive},function(){var s={};o.wsServer.server?s.server=o.wsServer.server:s=o.wsServer,t.websocket=new Q(s),t.websocket.binaryType="arraybuffer",t.websocket.on("listening",function(){t.socketStatus=Ne,t.notify("open")}),t.websocket.on("error",function(i){t.notify("error",i)}),t.websocket.on("connection",function(i){i.on("message",function(u,l){t.send(u,{receiver:"udp"}),t.notify(new Uint8Array(u),l)})})})}},{key:"close",value:function(){var t=this;this.socketStatus=Fe,this.socket.close(function(){t.websocket.close(function(){t.socketStatus=Ve,t.notify("close")})})}},{key:"send",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=we(this.options,r),s=o.receiver;if(s==="udp"){var i=t instanceof Buffer?t:Buffer.from(t);this.socket.send(i,0,i.byteLength,o.udpClient.port,o.udpClient.host)}else{if(s!=="ws")throw new Error("BridgePlugin can not send message to unknown receiver");this.websocket.clients.forEach(function(u){u.send(t,{binary:!0})})}}}])}(T),We=-1,Ue=0,Re=1,ze=2,Ge=3,qe={host:"localhost",port:8080,secure:!1,protocol:[]},ye=function(n){function e(t){var r;if(c(this,e),r=p(this,e),!ve)throw new Error("WebsocketClientPlugin can't find a WebSocket class");return r.options=a(a({},qe),t),r.socket=null,r.socketStatus=We,r.notify=function(){},r}return g(e,n),f(e,[{key:"registerNotify",value:function(t){this.notify=t}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=a(a({},this.options),r),s=o.port,i=o.host,u=o.secure,l=o.protocol;this.socket&&this.close();var E=u?"wss":"ws",L={address:i,family:E,port:s,size:0};this.socket=new ve("".concat(E,"://").concat(i,":").concat(s),l),this.socket.binaryType="arraybuffer",this.socketStatus=Ue,this.socket.onopen=function(){t.socketStatus=Re,t.notify("open")},this.socket.onclose=function(){t.socketStatus=Ge,t.notify("close")},this.socket.onerror=function(X){t.notify("error",X)},this.socket.onmessage=function(X){t.notify(X.data,L)}}},{key:"close",value:function(){this.socketStatus=ze,this.socket.close()}},{key:"send",value:function(t){this.socket.send(t)}}])}(T),Ke=0,Ze=1,$e=2,Je=3,Qe=function(n){function e(t){throw c(this,e),p(this,e),new Error("WebsocketServerPlugin can not be used in browser context")}return g(e,n),f(e,[{key:"registerNotify",value:function(t){this.notify=t}},{key:"status",value:function(){return this.socketStatus}},{key:"open",value:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=a(a({},this.options),r),s=o.port,i=o.host,u={address:i,family:"wsserver",port:s,size:0};this.socket&&this.close(),o.server?this.socket=new Q({server:o.server}):this.socket=new Q({host:i,port:s}),this.socket.binaryType="arraybuffer",this.socketStatus=Ke,this.socket.on("listening",function(){t.socketStatus=Ze,t.notify("open")}),this.socket.on("error",function(l){t.notify("error",l)}),this.socket.on("connection",function(l){l.on("message",function(E){t.notify(new Uint8Array(E),u)})})}},{key:"close",value:function(){var t=this;this.socketStatus=$e,this.socket.close(function(){t.socketStatus=Je,t.notify("close")})}},{key:"send",value:function(t){this.socket.clients.forEach(function(r){r.send(t,{binary:!0})})}}])}(T),Xe={discardLateMessages:!1},m=f(function n(e){if(c(this,n),e&&!z(e))throw new Error("OSC options argument has to be an object.");this.options=a(a({},Xe),e),this.options.plugin||(this.options.plugin=new ye),this.eventHandler=new Be({discardLateMessages:this.options.discardLateMessages});var t=this.eventHandler;this.options.plugin&&this.options.plugin.registerNotify&&this.options.plugin.registerNotify(function(){return t.notify.apply(t,arguments)})},[{key:"on",value:function(n,e){if(!w(n)||!j(e))throw new Error("OSC on() needs event- or address string and callback function");return this.eventHandler.on(n,e)}},{key:"off",value:function(n,e){if(!w(n)||!y(e))throw new Error("OSC off() needs string and number (subscriptionId) to unsubscribe");return this.eventHandler.off(n,e)}},{key:"open",value:function(n){if(n&&!z(n))throw new Error("OSC open() options argument needs to be an object");if(!this.options.plugin||!j(this.options.plugin.open))throw new Error("OSC Plugin API #open is not implemented!");return this.options.plugin.open(n)}},{key:"status",value:function(){if(!this.options.plugin||!j(this.options.plugin.status))throw new Error("OSC Plugin API #status is not implemented!");return this.options.plugin.status()}},{key:"close",value:function(){if(!this.options.plugin||!j(this.options.plugin.close))throw new Error("OSC Plugin API #close is not implemented!");return this.options.plugin.close()}},{key:"send",value:function(n,e){if(!this.options.plugin||!j(this.options.plugin.send))throw new Error("OSC Plugin API #send is not implemented!");if(!(n instanceof J||n instanceof b||n instanceof P||n instanceof D))throw new Error("OSC send() needs Messages, Bundles or Packets");if(e&&!z(e))throw new Error("OSC send() options argument has to be an object");return this.options.plugin.send(n.pack(),e)}}]);return m.STATUS={IS_NOT_INITIALIZED:-1,IS_CONNECTING:0,IS_OPEN:1,IS_CLOSING:2,IS_CLOSED:3},m.Packet=D,m.Bundle=P,m.Message=b,m.TypedMessage=J,m.Plugin=T,m.DatagramPlugin=Le,m.WebsocketClientPlugin=ye,m.WebsocketServerPlugin=Qe,m.BridgePlugin=_e,m})}(U)),U.exports}var nt=tt();const rt=Ye(nt),ot="waveserver.leonzong.com",st=443,it=!0,at=Math.PI/6,ut=Math.PI/6,ct=[["#5A2E2E","#E57373","#FFCDD2"],["#5A3E2E","#E59873","#FFE0B2"],["#5A522E","#E5D173","#FFF9C4"],["#4A5A2E","#C5E573","#F0F4C3"],["#44554C","#A5D6A7","#C8E6C9"],["#2E5A2E","#73E573","#C8E6C9"],["#2E5A4A","#73E5AD","#C8E6C9"],["#4A555A","#A7D6E5","#C8E6C9"],["#2E3E5A","#739EE5","#BBDEFB"],["#3A2E5A","#9873E5","#E1BEE7"],["#4A2E5A","#AD73E5","#E1BEE7"],["#5A2E5A","#E573E5","#F8BBD0"],["#5A2E4A","#E573A7","#F8BBD0"],["#5A2E3A","#E5738A","#F8BBD0"],["#4A4A4A","#A4A4A4","#EEEEEE"],["#2E2E2E","#737373","#CCCCCC"]],ft=[[[0,3],[0,3]],[[1,5],[2,8]],[[12,14],[12,15]],[[17,21],[18,21]],[[23,24],[23,24]],[[30,31],[36,37]],[[39,40],[41,42]],[[85,93],[94,96]],[[99,100],[101,102]],[[113,114],[115,116]],[[117,118],[119,120]],[[86,87],[88,89]],[[121,122],[123,124]],[[105,106],[109,110]],[[125,126],[127,128]],[[4,144,146,148,150,152,154,156,158,160],[4,145,147,148,151,153,155,157,158,161]]];export{ct as C,ft as D,at as H,rt as O,st as P,it as S,ut as V,ot as a,Ye as g};
